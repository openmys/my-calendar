# ProseMirror ìŠ¤íƒ€ì¼ í—¤ë“œë¦¬ìŠ¤ ìº˜ë¦°ë” ë¼ì´ë¸ŒëŸ¬ë¦¬ - í”„ë¡œì íŠ¸ ê´€ë¦¬

## 8. í…ŒìŠ¤íŠ¸ ì „ëµ

ì´ í”„ë¡œì íŠ¸ëŠ” **Vitest**ë¥¼ í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ë¡œ ì‚¬ìš©í•˜ì—¬ ë¹ ë¥´ê³  íš¨ìœ¨ì ì¸ í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤. 
VitestëŠ” Viteì™€ ì™„ë²½í•˜ê²Œ í†µí•©ë˜ì–´ TypeScriptì™€ ES ëª¨ë“ˆì„ ë„¤ì´í‹°ë¸Œë¡œ ì§€ì›í•˜ë©°, Jestì™€ í˜¸í™˜ë˜ëŠ” APIë¥¼ ì œê³µí•©ë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ëŠ” **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test)**ì™€ **í†µí•© í…ŒìŠ¤íŠ¸(Integration Test)** ë‘ ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì§„í–‰ë©ë‹ˆë‹¤:

- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: ê°œë³„ í•¨ìˆ˜, í´ë˜ìŠ¤, í”ŒëŸ¬ê·¸ì¸ì˜ ë™ì‘ì„ ë…ë¦½ì ìœ¼ë¡œ ê²€ì¦
- **í†µí•© í…ŒìŠ¤íŠ¸**: ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ í•¨ê»˜ ë™ì‘í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê²€ì¦

### 8.1 Vitest ì„¤ì •

```typescript
// vitest.config.ts
import { defineConfig } from 'vitest/config';

export default defineConfig({
  test: {
    environment: 'jsdom',
    globals: true,
    setupFiles: ['./src/test-setup.ts'],
  },
});
```

### 8.2 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

```typescript
describe("RangePlugin", () => {
  let plugin: Plugin<RangeState>;
  let state: CalendarState;

  beforeEach(() => {
    plugin = createRangePlugin();
    state = createCalendarState([plugin]);
  });

  test("should select range", () => {
    const transaction = {
      type: "SELECT_RANGE",
      payload: { start: new Date("2024-01-01"), end: new Date("2024-01-07") },
      meta: new Map(),
    };

    const newState = plugin.spec.state!.apply(
      transaction,
      plugin.getState(state)!
    );

    expect(newState.value.selectedRange).toEqual({
      start: new Date("2024-01-01"),
      end: new Date("2024-01-07"),
    });
  });
});
```

### 8.3 í†µí•© í…ŒìŠ¤íŠ¸

```typescript
describe("Calendar Integration", () => {
  test("should handle plugin interactions", () => {
    const rangePlugin = createRangePlugin();
    const eventPlugin = createEventPlugin();
    const plugins = [rangePlugin, eventPlugin];

    const calendar = new CalendarView(
      document.createElement("div"),
      createCalendarState(plugins),
      plugins
    );

    // ë²”ìœ„ ì„ íƒ
    calendar.execCommand(
      "selectRange",
      new Date("2024-01-01"),
      new Date("2024-01-07")
    );

    // ì„ íƒëœ ë²”ìœ„ í™•ì¸
    const rangeState = rangePlugin.getState(calendar.getState());
    expect(rangeState?.value.selectedRange).toBeDefined();
  });
});
```

### 8.3 E2E í…ŒìŠ¤íŠ¸

#### 8.3.1 Playwrightë¥¼ ì‚¬ìš©í•œ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸

```typescript
import { test, expect } from '@playwright/test';

test.describe('Calendar E2E', () => {
  test('should select date range with mouse', async ({ page }) => {
    await page.goto('/calendar');
    
    // ì‹œì‘ ë‚ ì§œ í´ë¦­
    await page.click('[data-testid="calendar-day-1"]');
    
    // ì¢…ë£Œ ë‚ ì§œ í´ë¦­ (Shift í‚¤ì™€ í•¨ê»˜)
    await page.keyboard.down('Shift');
    await page.click('[data-testid="calendar-day-7"]');
    await page.keyboard.up('Shift');
    
    // ë²”ìœ„ê°€ ì„ íƒë˜ì—ˆëŠ”ì§€ í™•ì¸
    const selectedDays = await page.locator('.selected-range').count();
    expect(selectedDays).toBe(7);
  });

  test('should navigate months with keyboard', async ({ page }) => {
    await page.goto('/calendar');
    
    // ë‹¤ìŒ ë‹¬ë¡œ ì´ë™
    await page.keyboard.press('ArrowRight');
    
    const currentMonth = await page.textContent('[data-testid="current-month"]');
    expect(currentMonth).toContain('February');
  });
});
```

### 8.4 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

#### 8.4.1 ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ í…ŒìŠ¤íŠ¸

```typescript
describe("Performance Tests", () => {
  test("should handle 10000 events efficiently", async () => {
    const events = generateMockEvents(10000);
    const eventPlugin = createEventPlugin();
    
    const startTime = performance.now();
    
    const calendar = new CalendarView(
      document.createElement("div"),
      createCalendarState([eventPlugin]),
      [eventPlugin]
    );
    
    // ì´ë²¤íŠ¸ ì¼ê´„ ì¶”ê°€
    events.forEach(event => {
      calendar.execCommand("addEvent", event);
    });
    
    const endTime = performance.now();
    const duration = endTime - startTime;
    
    // 1ì´ˆ ì´ë‚´ì— ì²˜ë¦¬ë˜ì–´ì•¼ í•¨
    expect(duration).toBeLessThan(1000);
  });

  test("should render large calendar view efficiently", () => {
    const calendar = new VirtualCalendarView(/* í° ë‚ ì§œ ë²”ìœ„ */);
    
    const renderTime = measureRenderTime(() => {
      calendar.render();
    });
    
    expect(renderTime).toBeLessThan(16); // 60fps ê¸°ì¤€
  });
});
```

### 8.5 í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹°

#### 8.5.1 í…ŒìŠ¤íŠ¸ í—¬í¼ í•¨ìˆ˜

```typescript
// test-utils.ts
export function createMockCalendarState(plugins: Plugin[] = []): CalendarState {
  return {
    currentDate: new Date('2024-01-01'),
    viewType: 'month',
    timeRange: { start: new Date('2024-01-01'), end: new Date('2024-01-31') },
    days: generateDaysForMonth(2024, 0),
    pluginStates: new Map(),
    timezone: 'UTC'
  };
}

export function generateMockEvents(count: number): CalendarEvent[] {
  return Array.from({ length: count }, (_, i) => ({
    id: `event-${i}`,
    title: `Event ${i}`,
    date: new Date(2024, 0, (i % 31) + 1),
    startTime: '09:00',
    endTime: '10:00'
  }));
}

export function measureRenderTime(renderFn: () => void): number {
  const start = performance.now();
  renderFn();
  return performance.now() - start;
}
```

#### 8.5.2 í”ŒëŸ¬ê·¸ì¸ í…ŒìŠ¤íŠ¸ íŒ©í† ë¦¬

```typescript
export function createTestPlugin<T>(
  key: string,
  initialState: T,
  handlers: Partial<PluginSpec<T>> = {}
): Plugin<T> {
  return new Plugin({
    key,
    state: {
      init: () => new TestPluginState(initialState),
      apply: (tr, state) => handlers.state?.apply?.(tr, state) || state
    },
    ...handlers
  });
}

class TestPluginState<T> extends PluginState<T> {
  apply(transaction: Transaction): TestPluginState<T> {
    return new TestPluginState(this.value);
  }
  
  toJSON() {
    return this.value;
  }
  
  static fromJSON<T>(value: T): TestPluginState<T> {
    return new TestPluginState(value);
  }
}
```

## 9. ì„±ëŠ¥ ìµœì í™”

### 9.1 ë©”ëª¨ì´ì œì´ì…˜

```typescript
class CalendarView {
  private decorationCache = new Map<string, DecorationSet>();

  private getDecorations(): DecorationSet {
    const stateKey = this.getStateKey();

    if (!this.decorationCache.has(stateKey)) {
      const decorations = this.computeDecorations();
      this.decorationCache.set(stateKey, decorations);
    }

    return this.decorationCache.get(stateKey)!;
  }

  private getStateKey(): string {
    // ìƒíƒœì˜ í•´ì‹œê°’ì„ ìƒì„±í•˜ì—¬ ìºì‹œ í‚¤ë¡œ ì‚¬ìš©
    return JSON.stringify({
      currentDate: this.state.currentDate.getTime(),
      viewType: this.state.viewType,
      pluginStates: Array.from(this.state.pluginStates.entries())
        .map(([key, state]) => [key, state.toJSON()])
    });
  }
}
```

### 9.2 ê°€ìƒí™” (ëŒ€ìš©ëŸ‰ ë°ì´í„°)

```typescript
class VirtualCalendarView extends CalendarView {
  private visibleRange = { start: 0, end: 42 };

  protected renderCalendarGrid(): void {
    const allDays = this.getAllDays();
    const visibleDays = allDays.slice(
      this.visibleRange.start,
      this.visibleRange.end
    );

    this.renderDays(visibleDays);
  }

  private updateVisibleRange(scrollTop: number, containerHeight: number): void {
    const dayHeight = 120; // ê° ë‚ ì§œ ì…€ì˜ ë†’ì´
    const startIndex = Math.floor(scrollTop / dayHeight);
    const visibleCount = Math.ceil(containerHeight / dayHeight) + 2; // ë²„í¼ í¬í•¨

    this.visibleRange = {
      start: Math.max(0, startIndex),
      end: Math.min(this.getAllDays().length, startIndex + visibleCount)
    };
  }
}
```

### 9.3 ë ˆì´ì§€ ë¡œë”©

#### 9.3.1 ì´ë²¤íŠ¸ ë ˆì´ì§€ ë¡œë”©

```typescript
class LazyEventPlugin extends Plugin<LazyEventState> {
  private eventCache = new Map<string, CalendarEvent[]>();
  
  constructor() {
    super({
      key: "lazyEvents",
      
      commands: () => ({
        loadEventsForMonth: (year: number, month: number) => async (state, dispatch) => {
          const cacheKey = `${year}-${month}`;
          
          if (this.eventCache.has(cacheKey)) {
            // ìºì‹œëœ ë°ì´í„° ì‚¬ìš©
            const events = this.eventCache.get(cacheKey)!;
            dispatch?.({
              type: "EVENTS_LOADED",
              payload: { events, year, month },
              meta: new Map()
            });
            return true;
          }
          
          // ë¹„ë™ê¸°ë¡œ ì´ë²¤íŠ¸ ë¡œë“œ
          try {
            const events = await this.fetchEventsForMonth(year, month);
            this.eventCache.set(cacheKey, events);
            
            dispatch?.({
              type: "EVENTS_LOADED",
              payload: { events, year, month },
              meta: new Map()
            });
            
            return true;
          } catch (error) {
            dispatch?.({
              type: "EVENTS_LOAD_ERROR",
              payload: { error, year, month },
              meta: new Map()
            });
            
            return false;
          }
        }
      })
    });
  }
  
  private async fetchEventsForMonth(year: number, month: number): Promise<CalendarEvent[]> {
    // API í˜¸ì¶œ ë˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬
    const response = await fetch(`/api/events?year=${year}&month=${month}`);
    return response.json();
  }
}
```

### 9.4 ì¸í¬ë¦¬ë©˜íƒˆ ì—…ë°ì´íŠ¸

```typescript
class OptimizedCalendarView extends CalendarView {
  private lastRenderedState: CalendarState | null = null;
  
  protected render(): void {
    if (!this.lastRenderedState) {
      // ì´ˆê¸° ë Œë”ë§
      this.fullRender();
    } else {
      // ì¦ë¶„ ì—…ë°ì´íŠ¸
      this.incrementalRender();
    }
    
    this.lastRenderedState = { ...this.state };
  }
  
  private incrementalRender(): void {
    const changes = this.detectChanges();
    
    if (changes.dateChanged) {
      this.updateCalendarGrid();
    }
    
    if (changes.pluginStatesChanged.length > 0) {
      this.updateDecorations(changes.pluginStatesChanged);
    }
    
    if (changes.viewTypeChanged) {
      this.switchView();
    }
  }
  
  private detectChanges(): StateChanges {
    const currentState = this.state;
    const lastState = this.lastRenderedState!;
    
    return {
      dateChanged: currentState.currentDate.getTime() !== lastState.currentDate.getTime(),
      viewTypeChanged: currentState.viewType !== lastState.viewType,
      pluginStatesChanged: this.getChangedPlugins(currentState, lastState)
    };
  }
}
```

### 9.5 Web Workers í™œìš©

#### 9.5.1 ë³µì¡í•œ ê³„ì‚°ì„ Web Workerë¡œ ì´ê´€

```typescript
// calendar-worker.ts
self.onmessage = function(e) {
  const { type, payload } = e.data;
  
  switch (type) {
    case 'CALCULATE_RECURRING_EVENTS':
      const result = calculateRecurringEvents(payload.rule, payload.range);
      self.postMessage({ type: 'RECURRING_EVENTS_CALCULATED', result });
      break;
      
    case 'PROCESS_LARGE_DATASET':
      const processed = processLargeEventDataset(payload.events);
      self.postMessage({ type: 'DATASET_PROCESSED', result: processed });
      break;
  }
};

function calculateRecurringEvents(rule: RecurrenceRule, range: DateRange): CalendarEvent[] {
  // ë³µì¡í•œ ë°˜ë³µ ì´ë²¤íŠ¸ ê³„ì‚° ë¡œì§
  // ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ ë¸”ë¡í•˜ì§€ ì•ŠìŒ
  return [];
}
```

```typescript
// main thread
class WorkerizedCalendarPlugin extends Plugin<WorkerState> {
  private worker: Worker;
  
  constructor() {
    super({
      key: "workerized",
      
      commands: () => ({
        calculateRecurringEvents: (rule: RecurrenceRule, range: DateRange) => 
          (state, dispatch) => {
            this.worker.postMessage({
              type: 'CALCULATE_RECURRING_EVENTS',
              payload: { rule, range }
            });
            
            this.worker.onmessage = (e) => {
              if (e.data.type === 'RECURRING_EVENTS_CALCULATED') {
                dispatch?.({
                  type: 'ADD_RECURRING_EVENTS',
                  payload: { events: e.data.result },
                  meta: new Map()
                });
              }
            };
            
            return true;
          }
      })
    });
    
    this.worker = new Worker('/calendar-worker.js');
  }
}
```

## 9. ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬

### 9.1 ESLint ì„¤ì •

í”„ë¡œì íŠ¸ ì „ì²´ì—ì„œ ì¼ê´€ëœ ì½”ë“œ ìŠ¤íƒ€ì¼ê³¼ í’ˆì§ˆì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ESLintë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. 
ì—…ê³„ í‘œì¤€ì„ ë”°ë¼ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ì„¤ì •ì„ ì ìš©í•˜ì—¬ ê°œë°œì ì¹œí™”ì ì¸ í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤.

```json
// .eslintrc.json
{
  "extends": [
    "@typescript-eslint/recommended",
    "@typescript-eslint/recommended-requiring-type-checking",
    "prettier"
  ],
  "parser": "@typescript-eslint/parser",
  "parserOptions": {
    "project": "./tsconfig.json"
  },
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/no-explicit-any": "error",
    "@typescript-eslint/prefer-nullish-coalescing": "error",
    "@typescript-eslint/prefer-optional-chain": "error",
    "no-console": "warn"
  }
}
```

### 9.2 Prettier ì„¤ì •

ì½”ë“œ í¬ë§·íŒ…ì„ ìë™í™”í•˜ê¸° ìœ„í•´ Prettierë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.
ë„ë¦¬ ì±„íƒëœ í‘œì¤€ ì„¤ì •ì„ ì‚¬ìš©í•˜ì—¬ ëŒ€ë¶€ë¶„ì˜ TypeScript í”„ë¡œì íŠ¸ì™€ ì¼ê´€ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤.

```json
// .prettierrc
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 80,
  "tabWidth": 2,
  "useTabs": false
}
```

### 9.3 í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ìš”êµ¬ì‚¬í•­

**ëª¨ë“  Pull RequestëŠ” ë‹¤ìŒ í…ŒìŠ¤íŠ¸ ìš”êµ¬ì‚¬í•­ì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤:**

- **100% í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**: ëª¨ë“  ìƒˆë¡œìš´ ì½”ë“œì™€ ìˆ˜ì •ëœ ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ê°€ ì‘ì„±ë˜ì–´ì•¼ í•¨
- **í…ŒìŠ¤íŠ¸ í†µê³¼**: ëª¨ë“  ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ í†µí•© í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•´ì•¼ í•¨
- **ì½”ë“œ í’ˆì§ˆ**: ESLint, Prettier, íƒ€ì… ì²´í¬ë¥¼ ëª¨ë‘ í†µê³¼í•´ì•¼ í•¨

í…ŒìŠ¤íŠ¸ê°€ ì‹¤íŒ¨í•˜ê±°ë‚˜ ì»¤ë²„ë¦¬ì§€ê°€ ë¶€ì¡±í•œ ê²½ìš° PR ë³‘í•©ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤.

### 9.4 PR ê²€ì¦ ì›Œí¬í”Œë¡œìš°

ëª¨ë“  Pull RequestëŠ” ë©”ì¸ ë¸Œëœì¹˜ì— ë³‘í•©ë˜ê¸° ì „ì— ì—„ê²©í•œ í’ˆì§ˆ ê²€ì¦ì„ í†µê³¼í•´ì•¼ í•©ë‹ˆë‹¤.

```yaml
# .github/workflows/pr-check.yml
name: PR Quality Check

on:
  pull_request:
    branches: [main]

jobs:
  quality-check:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        
      - name: Enable Corepack
        run: corepack enable
        
      - name: Setup pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 8
          
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '23'
          cache: 'pnpm'
          
      - name: Install dependencies
        run: pnpm install
        
      - name: Run ESLint
        run: pnpm run lint
        
      - name: Run Prettier check
        run: pnpm run format:check
        
      - name: Run type check
        run: pnpm run type-check
        
      - name: Run tests with coverage
        run: pnpm run test:coverage
        
      - name: Check test coverage
        run: pnpm run coverage:check
        
      - name: Build packages
        run: pnpm run build
```

### 9.5 íŒ¨í‚¤ì§€ ìŠ¤í¬ë¦½íŠ¸

ëª¨ë“  íŒ¨í‚¤ì§€ì—ì„œ ì¼ê´€ëœ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í‘œì¤€í™”ëœ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

```json
// package.json (root)
{
  "scripts": {
    "lint": "turbo run lint",
    "lint:fix": "turbo run lint:fix",
    "format": "prettier --write .",
    "format:check": "prettier --check .",
    "type-check": "turbo run type-check",
    "test": "turbo run test",
    "test:coverage": "turbo run test:coverage",
    "coverage:check": "turbo run coverage:check",
    "build": "turbo run build"
  }
}

// packages/*/package.json
{
  "scripts": {
    "lint": "eslint src --ext .ts,.tsx",
    "lint:fix": "eslint src --ext .ts,.tsx --fix",
    "type-check": "tsc --noEmit",
    "test": "vitest",
    "test:coverage": "vitest --coverage",
    "coverage:check": "vitest --coverage --reporter=text --coverage.thresholds.lines=100 --coverage.thresholds.functions=100 --coverage.thresholds.branches=100 --coverage.thresholds.statements=100",
    "build": "vite build"
  }
}
```

### 9.6 Pre-commit Hook

ê°œë°œìê°€ ì»¤ë°‹í•˜ê¸° ì „ì— ìë™ìœ¼ë¡œ ì½”ë“œ í’ˆì§ˆì„ ê²€ì¦í•˜ë„ë¡ huskyì™€ lint-stagedë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

```json
// package.json
{
  "lint-staged": {
    "*.{ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.{json,md}": [
      "prettier --write"
    ]
  }
}
```

```bash
# .husky/pre-commit
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

pnpm lint-staged
```

## 10. ìŠ¤í† ë¦¬ë¶ ê¸°ë°˜ ë¬¸ì„œí™” ìë™í™”

### 11.1 í†µí•© ë¬¸ì„œí™” ì‹œìŠ¤í…œ

ê¸°ì¡´ TypeDoc ë°©ì‹ì„ ë²„ë¦¬ê³  **Storybook 9.x**ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•œ í†µí•© ë¬¸ì„œí™” ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ API ë¬¸ì„œ, ì»´í¬ë„ŒíŠ¸ ë°ëª¨, ì‚¬ìš© ì˜ˆì‹œë¥¼ í•˜ë‚˜ì˜ ì‚¬ì´íŠ¸ì—ì„œ ì œê³µí•©ë‹ˆë‹¤.

#### 11.1.1 ìŠ¤í† ë¦¬ë¶ ì„¤ì •

```typescript
// .storybook/main.ts
import type { StorybookConfig } from '@storybook/react-vite';

const config: StorybookConfig = {
  stories: [
    "../src/**/*.mdx",
    "../src/**/*.stories.@(js|jsx|mjs|ts|tsx)"
  ],
  addons: [
    "@storybook/addon-docs",
    "@storybook/addon-actions",
    "@storybook/addon-onboarding"
  ],
  framework: {
    name: "@storybook/react-vite",
    options: {}
  },
  typescript: {
    check: false,
    reactDocgen: 'react-docgen-typescript',
    reactDocgenTypescriptOptions: {
      shouldExtractLiteralValuesFromEnum: true,
      propFilter: (prop) => (prop.parent ? !/node_modules/.test(prop.parent.fileName) : true),
    },
  },
  docs: {
    autodocs: 'tag',
  },
};
export default config;
```

```typescript
// .storybook/preview.ts  
import type { Preview } from '@storybook/react-vite';

const preview: Preview = {
  parameters: {
    actions: { argTypesRegex: '^on[A-Z].*' },
    controls: {
      matchers: {
        color: /(background|color)$/i,
        date: /Date$/i,
      },
    },
    docs: {
      description: {
        component: 'ProseMirror ìŠ¤íƒ€ì¼ í—¤ë“œë¦¬ìŠ¤ ìº˜ë¦°ë” ë¼ì´ë¸ŒëŸ¬ë¦¬',
      },
    },
    options: {
      storySort: {
        order: ['ì†Œê°œ', 'ìº˜ë¦°ë”', 'í”ŒëŸ¬ê·¸ì¸', 'í—¤ë“œë¦¬ìŠ¤ ì˜ˆì‹œ', 'API ë¬¸ì„œ'],
      },
    },
  },
};

export default preview;
```

#### 11.1.2 ìŠ¤í† ë¦¬ë¶ ìë™ ë°°í¬

```yaml
# .github/workflows/docs.yml
name: Storybook Documentation

on:
  push:
    branches: [main]
    paths:
      - 'src/**'
      - '.storybook/**'
      - '*.md'
  workflow_dispatch:

# GitHub Pages ë°°í¬ë¥¼ ìœ„í•œ ê¶Œí•œ ì„¤ì •
permissions:
  contents: read
  pages: write
  id-token: write

# ë™ì‹œ ì‹¤í–‰ ì œí•œ (í•œ ë²ˆì— í•˜ë‚˜ì˜ ë°°í¬ë§Œ)
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  # ìŠ¤í† ë¦¬ë¶ ë¹Œë“œ Job
  build:
    name: ìŠ¤í† ë¦¬ë¶ ë¹Œë“œ
    runs-on: ubuntu-latest
    
    steps:
      - name: ì½”ë“œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v4

      - name: Corepack í™œì„±í™”
        run: corepack enable

      - name: pnpm ì„¤ì •
        uses: pnpm/action-setup@v2
        with:
          version: 10

      - name: Node.js ì„¤ì •
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'pnpm'

      - name: ì˜ì¡´ì„± ì„¤ì¹˜
        run: pnpm install

      - name: íƒ€ì… ê²€ì‚¬
        run: pnpm run type-check

      - name: ìŠ¤í† ë¦¬ë¶ ë¹Œë“œ
        run: pnpm run build-storybook
        env:
          NODE_OPTIONS: "--max_old_space_size=4096"

      - name: GitHub Pages ì„¤ì •
        uses: actions/configure-pages@v4

      - name: ë¹Œë“œëœ ìŠ¤í† ë¦¬ë¶ ì—…ë¡œë“œ
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./storybook-static

  # GitHub Pages ë°°í¬ Job
  deploy:
    name: GitHub Pages ë°°í¬
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    
    steps:
      - name: GitHub Pagesì— ìŠ¤í† ë¦¬ë¶ ë°°í¬
        id: deployment
        uses: actions/deploy-pages@v4
```

### 11.2 ì˜ˆì œ ì½”ë“œ í…ŒìŠ¤íŠ¸

ë¬¸ì„œì˜ ì˜ˆì œ ì½”ë“œê°€ í•­ìƒ ì‘ë™í•˜ë„ë¡ ìë™ í…ŒìŠ¤íŠ¸ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤.

#### 11.2.1 ì˜ˆì œ ì¶”ì¶œ ë° í…ŒìŠ¤íŠ¸

```typescript
// scripts/test-examples.ts
import { readFileSync } from 'fs';
import { glob } from 'glob';

interface CodeExample {
  file: string;
  code: string;
  language: string;
}

class ExampleTester {
  async extractExamples(): Promise<CodeExample[]> {
    const docFiles = await glob('docs/**/*.md');
    const examples: CodeExample[] = [];
    
    for (const file of docFiles) {
      const content = readFileSync(file, 'utf-8');
      const codeBlocks = this.extractCodeBlocks(content);
      examples.push(...codeBlocks.map(code => ({ file, ...code })));
    }
    
    return examples;
  }
  
  private extractCodeBlocks(content: string): Array<{code: string, language: string}> {
    const regex = /```(\w+)\n([\s\S]*?)\n```/g;
    const blocks: Array<{code: string, language: string}> = [];
    let match;
    
    while ((match = regex.exec(content)) !== null) {
      blocks.push({
        language: match[1],
        code: match[2]
      });
    }
    
    return blocks;
  }
  
  async testTypeScriptExamples(examples: CodeExample[]): Promise<void> {
    const tsExamples = examples.filter(e => e.language === 'typescript');
    
    for (const example of tsExamples) {
      try {
        // TypeScript ì»´íŒŒì¼ í…ŒìŠ¤íŠ¸
        await this.compileTypeScript(example.code);
        console.log(`âœ… ${example.file}: Example compiled successfully`);
      } catch (error) {
        console.error(`âŒ ${example.file}: Compilation failed`);
        console.error(error);
        process.exit(1);
      }
    }
  }
}
```

### 11.3 ë¬¸ì„œ ì‚¬ì´íŠ¸ êµ¬ì¶•

#### 11.3.1 VitePress ì„¤ì •

```typescript
// docs/.vitepress/config.ts
import { defineConfig } from 'vitepress';

export default defineConfig({
  title: 'My Calendar',
  description: 'ProseMirror ìŠ¤íƒ€ì¼ í—¤ë“œë¦¬ìŠ¤ ìº˜ë¦°ë” ë¼ì´ë¸ŒëŸ¬ë¦¬',
  
  themeConfig: {
    nav: [
      { text: 'ì‹œì‘í•˜ê¸°', link: '/guide/getting-started' },
      { text: 'API', link: '/api/' },
      { text: 'í”ŒëŸ¬ê·¸ì¸', link: '/plugins/' },
      { text: 'ì˜ˆì œ', link: '/examples/' }
    ],
    
    sidebar: {
      '/guide/': [
        { text: 'ì„¤ì¹˜', link: '/guide/installation' },
        { text: 'ë¹ ë¥¸ ì‹œì‘', link: '/guide/quick-start' },
        { text: 'í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œ', link: '/guide/plugins' },
        { text: 'React í†µí•©', link: '/guide/react' }
      ],
      '/api/': [
        { text: 'í•µì‹¬ API', link: '/api/core' },
        { text: 'í”ŒëŸ¬ê·¸ì¸ API', link: '/api/plugins' },
        { text: 'íƒ€ì… ì •ì˜', link: '/api/types' }
      ]
    },
    
    socialLinks: [
      { icon: 'github', link: 'https://github.com/my-calendar/core' }
    ]
  },
  
  markdown: {
    config: (md) => {
      // ì½”ë“œ ì˜ˆì œ ìë™ í…ŒìŠ¤íŠ¸ í”ŒëŸ¬ê·¸ì¸
      md.use(require('./plugins/test-examples'));
    }
  }
});
```

### 11.4 ë¬¸ì„œ í’ˆì§ˆ ê´€ë¦¬

#### 11.4.1 ë¬¸ì„œ ë¦°íŒ…

```json
// package.json
{
  "scripts": {
    "docs:lint": "markdownlint docs/**/*.md",
    "docs:check-links": "markdown-link-check docs/**/*.md",
    "docs:validate": "pnpm run docs:lint && pnpm run docs:check-links"
  }
}
```

#### 11.4.2 ë¬¸ì„œ ì—…ë°ì´íŠ¸ ê²€ì¦

```yaml
# .github/workflows/docs-check.yml
name: Documentation Check

on:
  pull_request:
    paths:
      - 'docs/**'
      - 'packages/*/src/**'

jobs:
  check-docs:
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup environment
        # ... (ì´ì „ê³¼ ë™ì¼)
        
      - name: Check if API docs need update
        run: |
          pnpm run docs:api
          if ! git diff --exit-code docs/api/; then
            echo "API ë¬¸ì„œê°€ ì½”ë“œì™€ ë™ê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."
            echo "ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”: pnpm run docs:api"
            exit 1
          fi
          
      - name: Validate documentation
        run: pnpm run docs:validate
        
      - name: Test code examples
        run: pnpm run docs:test-examples
```

### 11.5 ë²„ì „ë³„ ë¬¸ì„œ ê´€ë¦¬

```typescript
// scripts/version-docs.ts
class DocumentationVersioning {
  async createVersionedDocs(version: string): Promise<void> {
    // í˜„ì¬ ë¬¸ì„œë¥¼ ë²„ì „ë³„ ë””ë ‰í† ë¦¬ë¡œ ë³µì‚¬
    await this.copyDocs(`docs/versions/${version}`);
    
    // ë²„ì „ ì„ íƒê¸° ì—…ë°ì´íŠ¸
    await this.updateVersionSelector(version);
    
    // ê²€ìƒ‰ ì¸ë±ìŠ¤ ì¬ìƒì„±
    await this.rebuildSearchIndex();
  }
  
  private async updateVersionSelector(newVersion: string): Promise<void> {
    const configPath = 'docs/.vitepress/config.ts';
    const config = await readFile(configPath, 'utf-8');
    
    // ë²„ì „ ëª©ë¡ì— ìƒˆ ë²„ì „ ì¶”ê°€
    const updatedConfig = this.addVersionToConfig(config, newVersion);
    await writeFile(configPath, updatedConfig);
  }
}
```

## 11. í”„ë¡œì íŠ¸ êµ¬ì¡° ë° ë¹Œë“œ ì „ëµ

### 11.1 ëª¨ë…¸ë ˆí¬ êµ¬ì¡°

ì´ í”„ë¡œì íŠ¸ëŠ” Turborepoì™€ pnpm workspaceë¥¼ ì‚¬ìš©í•˜ì—¬ ëª¨ë…¸ë ˆí¬ë¡œ ê´€ë¦¬ë©ë‹ˆë‹¤.

```
my-calendar/
â”œâ”€â”€ turbo.json              # Turborepo ì„¤ì •
â”œâ”€â”€ pnpm-workspace.yaml     # pnpm workspace ì„¤ì •
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/              # í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ (ë¹Œë“œ X, í¼ë¸”ë¦¬ì‹± X)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â””â”€â”€ react/             # React ì–´ëŒ‘í„° (ë¹Œë“œ O, í¼ë¸”ë¦¬ì‹± O)
â”‚       â”œâ”€â”€ src/
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ tsconfig.json
â”‚       â””â”€â”€ vite.config.ts
â””â”€â”€ apps/                  # ì˜ˆì œ ì• í”Œë¦¬ì¼€ì´ì…˜ë“¤
    â””â”€â”€ examples/
```

#### pnpm-workspace.yaml
```yaml
packages:
  - 'packages/*'
  - 'apps/*'
```

### 11.2 ë¹Œë“œ ì „ëµ

#### 11.2.1 í•µì‹¬ ì›ì¹™

1. **ì½”ì–´ íŒ¨í‚¤ì§€ëŠ” ë¹Œë“œí•˜ì§€ ì•ŠìŒ**: TypeScript ì†ŒìŠ¤ ê·¸ëŒ€ë¡œ ìœ ì§€
2. **ì–´ëŒ‘í„°ê°€ ì½”ì–´ë¥¼ ì†ŒìŠ¤ë¡œ ì°¸ì¡°**: ë¹Œë“œ ì‹œ ì½”ì–´ ì½”ë“œê°€ ì–´ëŒ‘í„°ì— ë²ˆë“¤ë§
3. **ì‚¬ìš©ìëŠ” ì–´ëŒ‘í„°ë§Œ ì„¤ì¹˜**: `@calendar/react`ë§Œ ì„¤ì¹˜í•˜ë©´ ëª¨ë“  ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥

#### 11.2.2 Vite ë¹Œë“œ ì„¤ì •

```typescript
// packages/react/vite.config.ts
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import { resolve } from 'path';

export default defineConfig({
  plugins: [react()],
  build: {
    lib: {
      entry: resolve(__dirname, 'src/index.ts'),
      name: 'CalendarReact',
      formats: ['es', 'cjs'],
      fileName: (format) => `index.${format === 'es' ? 'mjs' : 'js'}`
    },
    rollupOptions: {
      external: ['react', 'react-dom'],
      output: {
        globals: {
          react: 'React',
          'react-dom': 'ReactDOM'
        }
      }
    }
  },
  resolve: {
    alias: {
      '@calendar/core': resolve(__dirname, '../core/src')
    }
  }
});
```

### 11.3 íŒ¨í‚¤ì§€ ì°¸ì¡° ë°©ì‹

#### 11.3.1 TypeScript ì„¤ì •

```json
// packages/react/tsconfig.json
{
  "extends": "../../tsconfig.base.json",
  "compilerOptions": {
    "paths": {
      "@calendar/core": ["../core/src"],
      "@calendar/core/*": ["../core/src/*"]
    }
  },
  "include": ["src/**/*"],
  "references": [
    { "path": "../core" }
  ]
}
```

#### 11.3.2 íŒ¨í‚¤ì§€ ì˜ì¡´ì„±

```json
// packages/react/package.json
{
  "name": "@calendar/react",
  "version": "1.0.0",
  "main": "./dist/index.js",
  "module": "./dist/index.mjs",
  "types": "./dist/index.d.ts",
  "exports": {
    ".": {
      "import": "./dist/index.mjs",
      "require": "./dist/index.js"
    }
  },
  "peerDependencies": {
    "react": ">=16.8.0",
    "react-dom": ">=16.8.0"
  },
  "devDependencies": {
    "@calendar/core": "workspace:*",
    "vite": "^5.0.0",
    "@vitejs/plugin-react": "^4.0.0"
  }
}
```

### 11.4 Turborepo ì„¤ì •

```json
// turbo.json
{
  "$schema": "https://turbo.build/schema.json",
  "pipeline": {
    "build": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**"]
    },
    "dev": {
      "cache": false,
      "persistent": true
    },
    "test": {
      "dependsOn": ["^build"]
    }
  }
}
```

### 11.5 í¼ë¸”ë¦¬ì‹± ì „ëµ

1. **ì½”ì–´ íŒ¨í‚¤ì§€**: NPMì— í¼ë¸”ë¦¬ì‹±í•˜ì§€ ì•ŠìŒ
2. **React ì–´ëŒ‘í„°**: `@calendar/react`ë¡œ í¼ë¸”ë¦¬ì‹±
3. **ì‚¬ìš©ì ì„¤ì¹˜**: 
   ```bash
   npm install @calendar/react
   # ë˜ëŠ”
   pnpm add @calendar/react
   ```

### 11.6 Tree Shaking ì§€ì›

ì½”ì–´ ì†ŒìŠ¤ê°€ ì–´ëŒ‘í„°ì— ì§ì ‘ ë²ˆë“¤ë§ë˜ë¯€ë¡œ, ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í”ŒëŸ¬ê·¸ì¸ì´ë‚˜ ê¸°ëŠ¥ì€ ìë™ìœ¼ë¡œ ì œì™¸ë©ë‹ˆë‹¤:

```typescript
// packages/react/src/index.ts
// ê°œë³„ ìµìŠ¤í¬íŠ¸ë¡œ íŠ¸ë¦¬ ì‰ì´í‚¹ ì§€ì›
export { useCalendar } from './hooks/useCalendar';
export { Calendar } from './components/Calendar';

// ì½”ì–´ì—ì„œ ì¬ìµìŠ¤í¬íŠ¸ (íŠ¸ë¦¬ ì‰ì´í‚¹ ê°€ëŠ¥)
export { 
  createRangePlugin,
  createEventPlugin,
  createNavigationPlugin 
} from '@calendar/core';

export type { 
  CalendarState, 
  Transaction, 
  PluginSpec 
} from '@calendar/core';
```

### 11.7 GitHub Actionsë¥¼ í†µí•œ ìë™ í¼ë¸”ë¦¬ì‹±

í”„ë¡œë•ì…˜ ë°°í¬ëŠ” GitHub Actionsë¥¼ í†µí•´ ìë™í™”ë˜ë©°, ë²„ì „ ê´€ë¦¬ì™€ NPM í¼ë¸”ë¦¬ì‹±ì´ í†µí•©ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

#### 11.7.1 ì›Œí¬í”Œë¡œìš° êµ¬ì„±

```yaml
# .github/workflows/publish.yml
name: Publish to NPM

on:
  workflow_dispatch:
    inputs:
      version:
        description: 'Version to publish (e.g., 1.0.0, 1.0.1-beta.0)'
        required: true
        type: string
      package:
        description: 'Package to publish'
        required: true
        type: choice
        options:
          - react
          - all
      branch:
        description: 'Branch to publish from'
        required: true
        type: string
        default: 'main'

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          ref: ${{ inputs.branch }}
          token: ${{ secrets.GITHUB_TOKEN }}

      - name: Enable Corepack
        run: corepack enable

      - name: Setup pnpm
        uses: pnpm/action-setup@v2
        with:
          version: 8

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '23'
          cache: 'pnpm'

      - name: Install dependencies
        run: pnpm install

      - name: Setup npm auth
        run: |
          echo "//registry.npmjs.org/:_authToken=${{ secrets.NPM_TOKEN }}" > ~/.npmrc

      - name: Update version
        id: version-update
        run: |
          if [ "${{ inputs.package }}" = "all" ]; then
            pnpm -r version ${{ inputs.version }}
          else
            pnpm --filter @calendar/${{ inputs.package }} version ${{ inputs.version }}
          fi

      - name: Build packages
        if: steps.version-update.outcome == 'success'
        run: |
          if [ "${{ inputs.package }}" = "all" ]; then
            pnpm -r build
          else
            pnpm --filter @calendar/${{ inputs.package }} build
          fi

      - name: Publish to NPM
        id: publish
        if: steps.version-update.outcome == 'success'
        run: |
          if [ "${{ inputs.package }}" = "all" ]; then
            pnpm -r publish --no-git-checks --access public
          else
            pnpm --filter @calendar/${{ inputs.package }} publish --no-git-checks --access public
          fi

      - name: Commit version changes
        if: steps.publish.outcome == 'success'
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add .
          git commit -m "chore: release v${{ inputs.version }}" || echo "No changes to commit"
          git push
```

#### 11.7.2 ë²„ì „ ê´€ë¦¬ ì „ëµ

1. **ë²„ì „ ì—…ë°ì´íŠ¸ ìš°ì„  ì‹œë„**: Git ì—ëŸ¬ ë°œìƒ ì‹œ ë¬´ì‹œí•˜ê³  ì§„í–‰
2. **í¼ë¸”ë¦¬ì‹± ì‹¤í–‰**: ë¹Œë“œëœ íŒ¨í‚¤ì§€ë¥¼ NPMì— ë°°í¬
3. **ì„±ê³µ ì‹œ ì»¤ë°‹**: í¼ë¸”ë¦¬ì‹± ì„±ê³µ í›„ì—ë§Œ ë²„ì „ ë³€ê²½ì‚¬í•­ ì»¤ë°‹

ì´ ì „ëµì€ ë‹¤ìŒê³¼ ê°™ì€ ì´ì ì´ ìˆìŠµë‹ˆë‹¤:
- Git ì¶©ëŒë¡œ ì¸í•œ í¼ë¸”ë¦¬ì‹± ì‹¤íŒ¨ ë°©ì§€
- í¼ë¸”ë¦¬ì‹± ì‹¤íŒ¨ ì‹œ ë²„ì „ ë¡¤ë°± ë¶ˆí•„ìš”
- ì„±ê³µì ì¸ ë°°í¬ë§Œ ì €ì¥ì†Œì— ê¸°ë¡

#### 11.7.3 NPM ì¸ì¦ ì„¤ì •

GitHub Secretsì— `NPM_TOKEN`ì„ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤:

1. NPMì—ì„œ Access Token ìƒì„±:
   ```bash
   npm login
   npm token create --read-only=false
   ```

2. GitHub ì €ì¥ì†Œ Settings â†’ Secrets â†’ Actionsì—ì„œ `NPM_TOKEN` ì¶”ê°€

3. ì›Œí¬í”Œë¡œìš°ì—ì„œ ìë™ìœ¼ë¡œ `.npmrc` ìƒì„±:
   ```yaml
   echo "//registry.npmjs.org/:_authToken=${{ secrets.NPM_TOKEN }}" > ~/.npmrc
   ```

#### 11.7.4 ëª¨ë…¸ë ˆí¬ ë¹Œë“œ ì „ëµ

```bash
# ì „ì²´ ì„¤ì¹˜ (ë£¨íŠ¸ì—ì„œ)
pnpm install

# íŠ¹ì • íŒ¨í‚¤ì§€ ë¹Œë“œ
pnpm --filter @calendar/react build

# ëª¨ë“  íŒ¨í‚¤ì§€ ë¹Œë“œ
pnpm -r build

# íŠ¹ì • íŒ¨í‚¤ì§€ í¼ë¸”ë¦¬ì‹±
pnpm --filter @calendar/react publish --no-git-checks --access public
```

#### 11.7.5 íŒ¨í‚¤ì§€ í™•ì¥ì„±

í˜„ì¬ëŠ” React íŒ¨í‚¤ì§€ë§Œ ìˆì§€ë§Œ, ì¶”í›„ íŒ¨í‚¤ì§€ê°€ ì¶”ê°€ë  ë•Œ workflowì˜ `options`ì— ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤:

```yaml
options:
  - react
  - vue        # ì¶”í›„ ì¶”ê°€
  - angular    # ì¶”í›„ ì¶”ê°€
  - svelte     # ì¶”í›„ ì¶”ê°€
  - all
```

#### 11.7.6 ì‚¬ìš© ë°©ë²•

1. GitHub Actions íƒ­ìœ¼ë¡œ ì´ë™
2. "Publish to NPM" ì›Œí¬í”Œë¡œìš° ì„ íƒ
3. "Run workflow" í´ë¦­
4. ì…ë ¥ê°’ ì„¤ì •:
   - version: ë°°í¬í•  ë²„ì „ (ì˜ˆ: 1.0.0)
   - package: ë°°í¬í•  íŒ¨í‚¤ì§€ ì„ íƒ
   - branch: ë°°í¬í•  ë¸Œëœì¹˜ (ê¸°ë³¸: main)
5. "Run workflow" ì‹¤í–‰

### 11.8 ê°œë°œ í™˜ê²½ ì„¤ì •

#### 11.8.1 ë¡œì»¬ ê°œë°œ ìŠ¤í¬ë¦½íŠ¸

```json
// package.json (root)
{
  "scripts": {
    "dev": "turbo run dev --parallel",
    "build": "turbo run build",
    "test": "turbo run test",
    "lint": "turbo run lint",
    "type-check": "turbo run type-check",
    "clean": "turbo run clean && rm -rf node_modules"
  }
}
```

#### 11.8.2 ê°œë°œìš© ëª¨ë‹ˆí„°ë§

```typescript
// packages/core/src/dev-tools.ts (ê°œë°œ í™˜ê²½ì—ì„œë§Œ)
export class DevTools {
  private transactionLog: Transaction[] = [];
  
  logTransaction(transaction: Transaction): void {
    if (process.env.NODE_ENV === 'development') {
      this.transactionLog.push({
        ...transaction,
        timestamp: Date.now()
      });
      
      console.group(`ğŸ”„ Transaction: ${transaction.type}`);
      console.log('Payload:', transaction.payload);
      console.log('Meta:', Array.from(transaction.meta.entries()));
      console.groupEnd();
    }
  }
  
  getTransactionHistory(): Transaction[] {
    return [...this.transactionLog];
  }
  
  clearHistory(): void {
    this.transactionLog = [];
  }
}
```